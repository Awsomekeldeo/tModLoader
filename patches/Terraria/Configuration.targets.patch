--- src/decompiled/Configuration.targets
+++ src/Terraria/Configuration.targets
@@ -1,20 +_,34 @@
 <Project>
-  <PropertyGroup>
-    <TargetFramework>net40</TargetFramework>
-    <Configurations>Debug;Release;ServerDebug;ServerRelease</Configurations>
-    <AssemblySearchPaths>$(AssemblySearchPaths);{GAC}</AssemblySearchPaths>
-    <PlatformTarget>x86</PlatformTarget>
-    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
-    <Optimize>true</Optimize>
-  </PropertyGroup>
-  <PropertyGroup Condition="$(Configuration.Contains('Server'))">
-    <DefineConstants>$(DefineConstants);SERVER</DefineConstants>
-  </PropertyGroup>
-  <PropertyGroup Condition="!$(Configuration.Contains('Server'))">
-    <DefineConstants>$(DefineConstants);CLIENT</DefineConstants>
-  </PropertyGroup>
-  <PropertyGroup Condition="$(Configuration.Contains('Debug'))">
-    <Optimize>false</Optimize>
-    <DefineConstants>$(DefineConstants);DEBUG</DefineConstants>
-  </PropertyGroup>
+
+	<!-- Build properties -->
+	<PropertyGroup>
+		<TargetFramework>net40</TargetFramework>
+		<Configurations>WindowsDebug;WindowsRelease;WindowsServerDebug;WindowsServerRelease;LinuxRelease;LinuxServerRelease;MacRelease;MacServerRelease</Configurations>
+		<PlatformTarget>x86</PlatformTarget>
+		<AllowUnsafeBlocks>true</AllowUnsafeBlocks>
+		<Optimize>true</Optimize>
+		<LangVersion>latest</LangVersion>
+	</PropertyGroup>
+
+	<!-- Debug properties -->
+	<PropertyGroup Condition="$(Configuration.Contains('Debug'))">
+		<Optimize>false</Optimize>
+		<DefineConstants>$(DefineConstants);DEBUG</DefineConstants>
+	</PropertyGroup>
+
+	<!-- Conditional constants -->
+	<PropertyGroup>
+		<!-- Windows -->
+		<DefineConstants Condition="$(Configuration.Contains('Windows'))">$(DefineConstants);WINDOWS;XNA</DefineConstants>
+		<!-- Linux -->
+		<DefineConstants Condition="$(Configuration.Contains('Linux'))">$(DefineConstants);LINUX;FNA;MONO</DefineConstants>
+		<!-- Mac -->
+		<DefineConstants Condition="$(Configuration.Contains('Mac'))">$(DefineConstants);MAC;FNA;MONO</DefineConstants>
+
+		<!-- Server -->
+		<DefineConstants Condition="$(Configuration.Contains('Server'))">$(DefineConstants);SERVER</DefineConstants>
+		<!-- Client -->
+		<DefineConstants Condition="!$(Configuration.Contains('Server'))">$(DefineConstants);CLIENT</DefineConstants>
+	</PropertyGroup>
+
 </Project>
